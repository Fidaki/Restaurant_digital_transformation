<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Contact | Fidak Abbas Batool</title>

<style>
    body {
        margin: 0;
        font-family: Arial, sans-serif;
        background-color: #f5e9d5;
        color: #4a3f35;
    }

    header {
        background-color: #f2dbc4;
        padding: 20px;
        text-align: center;
        border-bottom: 1px solid #d1bfa5;
    }

    nav a {
        margin: 0 10px;
        text-decoration: none;
        color: #444;
        font-weight: bold;
    }

    .container {
        max-width: 900px;
        margin: auto;
        padding: 20px;
    }

    .card {
        background: #fff8ef;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 2px 6px rgba(0,0,0,0.1);
        margin-bottom: 20px;
        transition: 0.3s ease;
    }

    .details-group p {
        font-size: 18px;
        margin: 12px 0;
    }

    /* Inputs */
    .contact-form input,
    .contact-form textarea {
        width: 100%;
        padding: 13px;
        margin: 10px 0;
        border-radius: 8px;
        border: 1px solid #c9b7a3;
        background: #fff;
        font-size: 16px;
    }

    .contact-form input.error,
    .contact-form textarea.error {
        border: 2px solid #d9534f;
        background: #ffe8e8;
    }

    .error-msg {
        color: #d9534f;
        font-size: 14px;
        margin-top: -5px;
        margin-bottom: 10px;
        display: none;
    }

    .contact-form button {
        padding: 12px 25px;
        background: #000;
        color: #fff;
        border-radius: 8px;
        border: none;
        cursor: pointer;
        font-size: 16px;
    }

    /* Dark Mode */
    body.dark-mode { background-color: #2b2b2b; color:#fff; }
    body.dark-mode .card { background:#4a4a4a; }
    body.dark-mode input, body.dark-mode textarea {
        background:#555; color:white;
    }
</style>
</head>

<body>

<header>
    <h1>Contact Me</h1>
    <nav>
      <a href="index.html">Home</a>
      <a href="skills.html">Skills</a>
      <a href="showcase.html">Business Showcase</a>
      <a href="problem-solving.html">Problem Solving</a>
      <a href="contact.html">Contact</a>
    </nav>
</header>

<div style="text-align:center; padding:10px;">
    <button onclick="toggleDarkMode()">Enable Dark Mode</button>
</div>

<div class="container">

    <!-- Contact details -->
    <div class="card">
        <h2>ðŸ“ž Contact Details</h2>
        <p><strong>Phone:</strong> 07543678654</p>
        <p><strong>Email:</strong> f.b@gmail.com</p>
        <p><strong>LinkedIn:</strong> <a href="https://www.linkedin.com/in/fidak-batool-1365a8293" target="_blank">Visit Profile</a></p>
    </div>

    <!-- Contact Form with validation -->
    <div class="card">
        <h2>ðŸ“¬ Contact Form</h2>

        <form class="contact-form" onsubmit="return validateForm(event)">

            <input type="text" id="name" placeholder="Your Name" />
            <p class="error-msg" id="name-error">Name must contain letters only (no numbers).</p>

            <input type="text" id="address" placeholder="Your Address" />
            <p class="error-msg" id="address-error">Address must be at least 5 characters long.</p>

            <input type="email" id="email" placeholder="Your Email" />
            <p class="error-msg" id="email-error">Enter a valid email (example@gmail.com).</p>

            <input type="text" id="phone" placeholder="Your Phone Number" />
            <p class="error-msg" id="phone-error">Phone must start with 07 and be 11 digits long.</p>

            <textarea id="enquiry" placeholder="Enter your enquiry here..."></textarea>
            <p class="error-msg" id="enquiry-error">Enquiry must be at least 10 characters.</p>

            <button type="submit">Send Enquiry</button>
        </form>

        <p id="email-output"></p>
    </div>

</div>

<script>
/* ============= DARK MODE ============= */
function toggleDarkMode() {
    document.body.classList.toggle("dark-mode");
}

/* ============= SANITIZE INPUT ============= */
function clean(input) {
    return input.replace(/[<>\/{}$]/g, ""); 
}

/* ============= VALIDATION FUNCTION ============= */
function validateForm(event) {
    event.preventDefault();

    let valid = true;

    // Collect fields
    let name = document.getElementById("name");
    let address = document.getElementById("address");
    let email = document.getElementById("email");
    let phone = document.getElementById("phone");
    let enquiry = document.getElementById("enquiry");

    // SANITIZE INPUTS
    name.value = clean(name.value);
    address.value = clean(address.value);
    enquiry.value = clean(enquiry.value);

    // NAME VALIDATION
    if (!/^[A-Za-z\s]+$/.test(name.value)) {
        showError(name, "name-error");
        valid = false;
    } else removeError(name, "name-error");

    // ADDRESS VALIDATION
    if (address.value.length < 5) {
        showError(address, "address-error");
        valid = false;
    } else removeError(address, "address-error");

    // EMAIL VALIDATION
    if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email.value)) {
        showError(email, "email-error");
        valid = false;
    } else removeError(email, "email-error");

    // PHONE VALIDATION (UK 07â€¦ format)
    if (!/^07\d{9}$/.test(phone.value)) {
        showError(phone, "phone-error");
        valid = false;
    } else removeError(phone, "phone-error");

    // ENQUIRY VALIDATION
    if (enquiry.value.length < 10) {
        showError(enquiry, "enquiry-error");
        valid = false;
    } else removeError(enquiry, "enquiry-error");

    if (!valid) return false;

    // If valid â†’ generate email preview
    generateEmail(name.value, address.value, email.value, phone.value, enquiry.value);
}

/* SHOW / HIDE ERRORS */
function showError(field, msgId) {
    document.getElementById(msgId).style.display = "block";
    field.classList.add("error");
}

function removeError(field, msgId) {
    document.getElementById(msgId).style.display = "none";
    field.classList.remove("error");
}

/* ================== GENERATE EMAIL PREVIEW ================== */
function generateEmail(name, address, email, phone, enquiry) {
    let output = `
Email preview generated:

Name: ${name}
Address: ${address}
Email: ${email}
Phone: ${phone}

Enquiry:
${enquiry}
    `;
    alert("Your enquiry has been generated successfully!");
    document.getElementById("email-output").innerText = output;
}
</script>

</body>
</html>
